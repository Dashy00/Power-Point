<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âditeur Graphique Modulaire</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
 
    <div class="editor-wrapper" id="graph-interface">
       
        <div class="sidebar">
            <div class="sidebar-header">
               <img src="images/newlogo.png" alt="NodeFlow" class="sidebar-logo" style="height: 50px; margin: auto; display: block; mix-blend-mode: multiply;">
            </div>
           
            <div class="sidebar-item" id="btn-new-slide">
                <img src="images/add_diapo.png" class="icon" alt="+">
                <span class="label">Nouvelle<br>diapositive</span>
            </div>
            
            <div class="sidebar-item" id="btn-condition">
                <img src="images/condition.png" class="icon" alt="Condition">
                <span class="label">Condition</span>
            </div>
            
            <div class="sidebar-item" id="btn-bloc-fin">
                <img src="images/add_end.png" class="icon" alt="Fin">
                <span class="label">Bloc Fin</span>
            </div>

            <div class="sidebar-item set-start" id="btn-set-start">
                <span class="icon-text">üè¥</span>
                <span class="label">D√©finir comme<br>D√©but</span>
            </div>
           
            <div class="sidebar-spacer"></div>

            <div class="sidebar-item load" id="btn-load">
                <span class="icon-text">üìÇ</span>
                <span class="label">Charger Projet</span>
            </div>
            <input type="file" id="file-upload" accept=".html" style="display: none;">
           
            <button id="btn-delete" class="sidebar-item delete">
                <img src="images/logo_poubelle.png" class="icon" alt="Supprimer">
                <span class="label">Supprimer</span>
            </button>
            
            <button id="btn-play" class="sidebar-item play">
                <span class="icon-text">‚ñ∂Ô∏è</span>
                <span class="label">Afficher</span>
            </button>

            <button id="btn-generate" class="sidebar-item export">
                <img src="images/logo_telecharger.png" class="icon" alt="G√©n√©rer">
                <span class="label">G√©n√©rer</span>
            </button>
        </div>
 
        <div class="main-content">
            <div class="viewport" id="viewport">
                <div class="canvas" id="canvas">
                    <svg id="connections-layer">
                        <defs>
                            <marker id="arrow-end" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto">
                                <path d="M0,0 L10,5 L0,10" fill="#2c3e50" />
                            </marker>
                            <marker id="arrow-start" markerWidth="10" markerHeight="10" refX="0" refY="5" orient="auto">
                                <path d="M10,0 L0,5 L10,10" fill="#2c3e50" />
                            </marker>
                        </defs>
                    </svg>
                </div>
            </div>
 
            <div class="zoom-controls">
                <button id="btn-zoom-out" class="zoom-btn">‚àí</button>
                <span id="zoom-text">100 %</span>
                <button id="btn-zoom-in" class="zoom-btn">+</button>
                <button id="btn-reset" class="reset-btn">‚ü≤</button>
            </div>
        </div>
    </div>

    <div id="editor-overlay" class="editor-overlay" style="display: none;">
        <div class="overlay-header">
            <button id="btn-close-editor" class="back-btn">‚Üê Retour au Graphe</button>
           
            <div class="toolbar-group">
                <label style="color: #4e342e; font-size: 12px; margin-right: 5px;">N¬∞</label>
                <input type="text" id="slideNumber" placeholder="1.1" title="Num√©ro de la diapositive" style="width: 60px; padding: 4px 8px; border-radius: 4px; border: 1px solid #dcd7c9; background: #fdfbf7; color: #4e342e; font-size: 14px;">
            </div>

            <div class="toolbar-group" style="border-right: none;">
                <button class="top-tool-btn" id="undoBtn" title="Annuler (Ctrl+Z)">‚Ü©Ô∏è</button>
                <button class="top-tool-btn" id="redoBtn" title="R√©tablir (Ctrl+Y)">‚Ü™Ô∏è</button>
            </div>
 
            <div class="zoom-controls-editor">
                <button class="zoom-btn" onclick="zoomOut()" title="D√©zoomer">‚àí</button>
                <span id="editor-zoom-text">100%</span>
                <button class="zoom-btn" onclick="zoomIn()" title="Zoomer">+</button>
                <button class="reset-btn" onclick="resetZoom()" title="R√©initialiser">‚ü≤</button>
            </div>
        </div>
 
        <div class="overlay-body">
            <div class="overlay-sidebar">
                <h4>Ajouter</h4>
                <button class="overlay-btn" id="addTextBtn">Texte</button>
                <button class="overlay-btn" id="addImageBtn">Image</button>
                <button class="overlay-btn" id="addBubbleBtn">Bulle</button>
                <input type="file" id="imageInput" hidden accept="image/*">
               
                <hr style="margin: 10px 0; border: 0; border-top: 1px solid #dcd7c9;">
               
                <h4>Formes</h4>
                <div class="shape-grid">
                    <button class="overlay-btn shape-btn" onclick="addEditorShape('square')" title="Carr√©">‚ñ¢</button>
                    <button class="overlay-btn shape-btn" onclick="addEditorShape('circle')" title="Cercle">‚óã</button>
                    <button class="overlay-btn shape-btn" onclick="addEditorShape('triangle')" title="Triangle">‚ñ≥</button>
                    <button class="overlay-btn shape-btn" onclick="addEditorShape('arrow')" title="Fl√®che">‚ûî</button>
                </div>
                <label style="font-size: 12px; display: block; margin-top: 10px;">Couleur :</label>
                <input type="color" id="shapeColorPicker" value="#8d6e63" style="width: 100%; cursor: pointer; height: 35px;">
 
                <hr style="margin: 10px 0; border: 0; border-top: 1px solid #dcd7c9;">
               
                <h4>Arri√®re-plan</h4>
                <label style="font-size: 12px">Couleur de fond :</label>
                <input type="color" id="bgColorPicker" value="#ffffff" style="width: 100%; cursor: pointer;">
                <button class="overlay-btn" id="bgImageBtn" style="margin-top:5px; font-size:12px;">Image de fond</button>
                <input type="file" id="bgImageInput" hidden accept="image/*">
            </div>
 
            <div class="overlay-workspace">
                <div class="slide-zoom-wrapper" id="slideZoomWrapper">
                    <div id="editable-slide" class="overlay-slide"></div>
                </div>
               
                <div class="floating-toolbar" id="floatingToolbar">
                    <select id="fontFamily" title="Police">
                        <option value="Arial">Arial</option>
                        <option value="Times New Roman">Times New Roman</option>
                        <option value="Georgia">Georgia</option>
                        <option value="Verdana">Verdana</option>
                        <option value="Courier New">Courier New</option>
                    </select>
                    <select id="fontSize" title="Taille">
                        <option value="12px">12</option>
                        <option value="16px">16</option>
                        <option value="18px" selected>18</option>
                        <option value="24px">24</option>
                        <option value="32px">32</option>
                        <option value="48px">48</option>
                        <option value="64px">64</option>
                        <option value="72px">72</option>
                        <option value="96px">96</option>
                    </select>
                    <input type="color" id="textColor" value="#333333" title="Couleur du texte">
                    <div class="toolbar-separator"></div>
                    <button class="tool-btn" id="boldBtn" title="Gras"><b>G</b></button>
                    <button class="tool-btn" id="italicBtn" title="Italique"><i>I</i></button>
                    <button class="tool-btn" id="underlineBtn" title="Soulign√©"><u>S</u></button>
                    <div class="toolbar-separator"></div>
                    <input type="color" id="highlightColor" value="#ffff00" title="Couleur de surlignage">
                    <button class="tool-btn" id="highlightBtn" title="Surligner">üñçÔ∏è</button>
                </div>
            </div>
        </div>
    </div>
    <div id="condition-overlay" class="editor-overlay" style="display: none; align-items: center; justify-content: center; background: rgba(0,0,0,0.5);">
    <div class="condition-modal" style="width: 500px; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 10px 25px rgba(0,0,0,0.5); font-family: 'Segoe UI', sans-serif;">
        
        <div style="background: #34495e; padding: 15px; text-align: center; border-bottom: 3px solid #f1c40f;">
            <h2 style="color: #f1c40f; margin: 0; font-weight: normal; letter-spacing: 1px;">Condition</h2>
        </div>

        <div style="padding: 20px; background: #2c3e50;">
            <div style="display: flex; justify-content: space-between; align-items: center; background: #5d6d7e; padding: 10px; border-radius: 4px; margin-bottom: 15px;">
                <span style="color: white; font-weight: bold;">Avoir visit√© :</span>
                <span style="color: #d5d8dc; font-size: 14px;">Cochez les diapositives requises</span>
                <span style="color: white;">‚ñº</span>
            </div>

            <div id="condition-list" style="max-height: 250px; overflow-y: auto; background: #34495e; padding: 5px; border-radius: 4px;">
                </div>

            <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                <button id="btn-cancel-condition" style="background: #c0392b; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 5px;">
                    ‚Ü© Retour
                </button>
                <button id="btn-save-condition" style="background: #27ae60; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: bold; display: flex; align-items: center; gap: 5px;">
                    üíæ Sauvegarder
                </button>
            </div>
        </div>
    </div>
</div>
    <div id="presentation-overlay" class="player-overlay" style="display: none;">
        <button id="btn-close-player" class="player-close-btn">‚úï Quitter</button>
        
        <div id="player-stage" class="player-stage">
            </div>
    </div>
 
    <script src="globals.js"></script>
    <script src="editor.js"></script>
    <script src="app.js"></script>
</body>
</html>